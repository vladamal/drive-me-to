!function(){"use strict";angular.module("driving-routes",["ui.router","LocalStorageModule","toastr"])}(),function(){"use strict";function e(e){e.setPrefix("driving")}angular.module("driving-routes").config(e),e.$inject=["localStorageServiceProvider"]}(),function(){"use strict";angular.module("driving-routes").constant("mainConfig",{GoogleAPIkey:"AIzaSyC6ZWmhfToW-3W_gHyXcHKXqbd1nNscznQ"})}(),function(){"use strict";angular.module("driving-routes").config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("routes",{url:"/",templateUrl:"routes/routesView.html",controller:"routesController",controllerAs:"vm"}).state("route-details",{url:"/{route:json}",templateUrl:"routes/routeDetails/routeDetailsView.html",controller:"routeDetailsController",controllerAs:"vmDetails",data:{route:null}}),t.otherwise("/")}])}(),function(){"use strict";function e(e,t,o){var r="https://maps.googleapis.com/maps/api/js?key="+o.GoogleAPIkey+"&callback=",n=t.defer();e.googleMapsInitialized=n.resolve;return function(e,t){var o=document.createElement("script");o.src=e+t,document.body.appendChild(o)}(r,"googleMapsInitialized"),{mapsInitialized:n.promise}}angular.module("driving-routes").factory("GoogleMapInitializer",e),e.$inject=["$window","$q","mainConfig"]}(),function(){"use strict";function e(e,t,o,r){e.route=t.route,e.index=t.route.index;var n;o.mapsInitialized.then(function(){var t=new google.maps.DirectionsService,o=new google.maps.DirectionsRenderer,i={zoom:7,mapTypeId:google.maps.MapTypeId.ROADMAP};n=new google.maps.Map(document.getElementById("map"),i),o.setMap(n);var u={origin:e.route.start,destination:e.route.end,travelMode:google.maps.DirectionsTravelMode.DRIVING};t.route(u,function(t,n){if(n==google.maps.DirectionsStatus.OK){var i=t.routes[0].legs[0].distance.value;e.distance=i/1e3;var u=t.routes[0].legs[0].duration.value;e.hours=Math.floor(u/3600),e.minutes=Math.round(u/60-60*e.hours),o.setDirections(t),e.$apply()}else r.warning("Ruta nije prepoznata.","Obave≈°tenje.")})})}angular.module("driving-routes").controller("routeDetailsController",e),e.$inject=["$scope","$stateParams","GoogleMapInitializer","toastr"]}(),function(){"use strict";function e(e,t){var o=this;o.newRoute={},o.routes=[],o.routes=e.getRoutes(),null==o.routes&&(o.routes=[]),o.addRoute=function(t){o.routes.push(t),o.newRoute={},e.updateRoutes(o.routes)},o.removeRoute=function(t){o.routes.splice(t,1),e.updateRoutes(o.routes)},o.viewRoute=function(e,o){e.index=o,t.go("route-details",{route:e})}}angular.module("driving-routes").controller("routesController",e),e.$inject=["routesService","$state"]}(),function(){"use strict";function e(e){return{getRoutes:function(){return e.get("routes")},updateRoutes:function(t){return e.set("routes",t)}}}angular.module("driving-routes").factory("routesService",e),e.$inject=["localStorageService"]}();